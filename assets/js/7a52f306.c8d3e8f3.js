"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[709],{2918:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var n=t(4848),i=t(8453);const r={title:"What is Functor Network?",sidebar_position:1,slug:"/"},o="What is Functor Network?",a={id:"what_is_functor",title:"What is Functor Network?",description:"Functor Network by Security Labs, at its core, is a minimal keystore (KS) network.",source:"@site/docs/what_is_functor.mdx",sourceDirName:".",slug:"/",permalink:"/",draft:!1,unlisted:!1,editUrl:"https://github.com/slabsxyz/docs/tree/main/docs/what_is_functor.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"What is Functor Network?",sidebar_position:1,slug:"/"},sidebar:"tutorialSidebar",next:{title:"Why Functor Network?",permalink:"/why_functor"}},c={},l=[{value:"Going more in depth: Light Node Infrastructure",id:"going-more-in-depth-light-node-infrastructure",level:2},{value:"Functor is seamlessly readable <u>cross-chain</u>",id:"functor-is-seamlessly-readable-cross-chain",level:2}];function h(e){const s={a:"a",admonition:"admonition",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",section:"section",strong:"strong",sup:"sup",ul:"ul",...(0,i.R)(),...e.components},{Head:r}=s;return r||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r,{children:(0,n.jsx)("meta",{prefix:"og: http://ogp.me/ns#"})}),"\n",(0,n.jsxs)(s.h1,{id:"what-is-functor-network",children:["What is Functor",(0,n.jsx)(s.sup,{children:(0,n.jsx)(s.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})," Network?"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Functor Network"})," by ",(0,n.jsx)(s.a,{href:"https://node.securitylabs.xyz/",children:"Security Labs"}),", at its core, is a ",(0,n.jsx)(s.strong,{children:"minimal keystore (KS) network"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["A ",(0,n.jsx)(s.strong,{children:"minimal keystore layer"})," is a cross-chain ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#key-value-store",children:"key/value store"})," for smart wallet keys, ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#session-key",children:"session keys"})," and other configurations. It is ",(0,n.jsx)(s.strong,{children:"minimal"})," in that its nodes need only to manage this simple ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#key-value-store",children:"key/value database"}),", and not balances nor smart contracts. This has the following simple consequences:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsxs)(s.strong,{children:["Nodes are ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#light-node",children:"lightweight"})]}),": This means they can be run in lightweight devices such as raspberry pis, mobile apps and web browser extensions. This is thanks to being designed as a ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#modular-blockchain",children:"modular blockchain"}),(0,n.jsx)(s.sup,{children:(0,n.jsx)(s.a,{href:"#user-content-fn-2",id:"user-content-fnref-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),", as well as its ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#execution-client",children:"execution client"})," being ultra-specialized to just the task of holding Smart Contract Wallet configurations and nothing more."]}),"\n"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Its simple state is readable from everywhere"}),": Due to the simplicity of its state, fast updates (through zero-knowledge proofs) and verifications can be done across any L2 through syncing keystore smart contracts on each L2. For censorship-resistance, it's also possible to ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#force-inclusion",children:"force include"})," directly to the keystore smart contract on the L1."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"going-more-in-depth-light-node-infrastructure",children:"Going more in depth: Light Node Infrastructure"}),"\n",(0,n.jsx)(s.p,{children:"Every node in a traditional blockchain has at least the following components:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Execution client"}),": To process incoming transactions."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Consensus client"}),": To settle in the correct state of the blockchain in a decentralized way"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"State storage (i.e. data availability)"}),": To verify the current state of the blockchain from historic data."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["In ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#modular-blockchain",children:"modular blockchain"})," designs, these components can be decoupled. For example, ",(0,n.jsx)(s.strong,{children:"data availability"})," layers such as Celestia and Eigenlayer DA exist. For ",(0,n.jsx)(s.strong,{children:"consensus"}),", cryptoeconomic security from other systems can be used through ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#restaking",children:"restaking"})," (Eigenlayer AVS), delegating all consensus rule checking and slashing logic outside the node."]}),"\n",(0,n.jsxs)(s.p,{children:["This means that network nodes become much lighter and modular. As for ",(0,n.jsx)(s.strong,{children:"Functor"})," specifically, the ",(0,n.jsx)(s.strong,{children:"execution client"})," is significantly smaller too, since ",(0,n.jsx)(s.strong,{children:"transactions do not call smart contracts nor keep balances"}),", they just represent changes in the key-value database for sessions and wallet configurations such as ",(0,n.jsx)(s.strong,{children:"creating, invalidating and updating permissions"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"Here a diagram representing the node infrastructure:"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Functor Node Architecture",src:t(3571).A+"",width:"2152",height:"1484"})}),"\n",(0,n.jsx)(s.p,{children:"The consensus client inside the node is as minimal as it needs to be just to communicate blocks, while the latest key-value database is always available (along the rest of the blocks) in the data availability layer."}),"\n",(0,n.jsx)(s.p,{children:"This allows nodes to be lightweight and run in low-end devices such as raspberry pis, mobile apps and web browser extensions."}),"\n",(0,n.jsxs)(s.h2,{id:"functor-is-seamlessly-readable-cross-chain",children:["Functor is seamlessly readable ",(0,n.jsx)("u",{children:"cross-chain"})]}),"\n",(0,n.jsxs)(s.p,{children:["Functor's state is settled on an L1 ",(0,n.jsx)(s.strong,{children:"through a keystore smart contract"}),", from which is synced into any L2 in a trustless way to ",(0,n.jsx)(s.strong,{children:"their own L2 keystore smart contract"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["Both of these contracts keep the state root of the whole key-value database, in a ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#indexed-merkle-tree",children:"read-efficient merkle tree"})," representation. This are verified for every transaction a smart contract wallet want to make, to make sure ",(0,n.jsx)(s.strong,{children:"their transaction respects the configurations they stored in Functor (sessions, authentication logic, etc.)"})]}),"\n",(0,n.jsx)(s.admonition,{title:"Verification integrity and latency",type:"info",children:(0,n.jsxs)(s.p,{children:["The state roots are verified through merkle proofs, with addition of latency-optimizing techniques such as a buffer of beacon roots on the L2 to verify block hashes against beacon root proofs. This is all done without trusting any specific sequencer, since Functor is designed as a ",(0,n.jsx)(s.a,{href:"https://hackmd.io/@Perseverance/rkhnAbi06",children:"vanilla based rollup"}),", which uses L1 proposers for sequencing, being decentralized by nature."]})}),"\n",(0,n.jsx)(s.p,{children:"This process is better appreciated in the next diagram"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Functor Architecture",src:t(7395).A+"",width:"1280",height:"631"})}),"\n",(0,n.jsx)(s.p,{children:"A session is created for a user (human or AI agent) who want to use specific permissions over some assets. This is done as follows:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"A transaction to Functor is sent, containing the permissions for the session key or global account being created."}),"\n",(0,n.jsx)(s.li,{children:"At the same time, either (a) the account is being deployed on however many L2s the user wants with the same deterministic address; or (b) a session signing key is produced capable of acting on permitted assets, verified on Functor."}),"\n",(0,n.jsx)(s.li,{children:"The proposed transaction is validates within a block by the consensus layer."}),"\n",(0,n.jsx)(s.li,{children:"After this batch of transactions are consented, The  key-value database is updated, and the merkle tree root is settled on the L1, as well as all data made available through a data availability layer."}),"\n",(0,n.jsx)(s.li,{children:"Finally, This state is synced to every L2 wiith a L2 Key Store contract."}),"\n"]}),"\n","\n",(0,n.jsxs)(s.section,{"data-footnotes":!0,className:"footnotes",children:[(0,n.jsx)(s.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{id:"user-content-fn-1",children:["\n",(0,n.jsxs)(s.p,{children:["The mathematically inclined reader might be already relating the mathematical concept of a ",(0,n.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Functor",children:"functor"})," with our solution. ",(0,n.jsx)(s.em,{children:"We bridge the gap between the category of AIs and of decentralized systems"}),". ",(0,n.jsx)(s.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{id:"user-content-fn-2",children:["\n",(0,n.jsxs)(s.p,{children:["Where responsibilities of ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#consensus-client",children:"consensus"}),", ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#data-availability",children:"data availability"})," and ",(0,n.jsx)(s.a,{href:"/concepts/glossary/#execution-client",children:"execution"})," are ",(0,n.jsx)("u",{children:"separated modularly"}),". ",(0,n.jsx)(s.a,{href:"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},7395:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/architecture-6f6fa16667d49d524c8b1ba722f27a55.png"},3571:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/architecture_node_only-74ea4b3d15a48691722676e09d4de230.png"},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(6540);const i={},r=n.createContext(i);function o(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);